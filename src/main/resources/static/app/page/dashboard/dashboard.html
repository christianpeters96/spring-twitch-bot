<div class="content-wrapper">
    <!-- Page Title Header Starts-->
    <div class="row page-title-header">
        <div class="col-12">
            <div class="page-header">
                <h4 class="page-title">{{ 'page.dashboard.title' | translate }}</h4>
                <div class="quick-link-wrapper w-100 d-md-flex flex-md-wrap">
                    <ul class="quick-links ml-auto">
                        <li><a href="#"><b>{{ 'page.dashboard.all' | translate }}</b></a></li>
                        <li><a href="#">{{ 'page.dashboard.chatStats' | translate }}</a></li>
                        <li><a href="#">{{ 'page.dashboard.latestEvents' | translate }}</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- Page Title Header Ends-->
    <div class="row">
        <div class="col-md-12 grid-margin">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="d-flex">
                                <div class="wrapper">
                                    <h3 class="mb-0 font-weight-semibold">{{ $ctrl.stats.messages.today }}</h3>
                                    <h5 class="mb-0 font-weight-medium text-primary">{{ 'page.dashboard.sentMessages' | translate }}</h5>
                                    <p class="mb-0 text-muted">{{ $ctrl.stats.messages.plus }} ({{ $ctrl.stats.messages.percent }}%)</p>
                                </div>
                                <div class="wrapper my-auto ml-auto ml-lg-4">
                                    <canvas height="50" width="100" id="stats-line-graph-1"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mt-md-0 mt-4">
                            <div class="d-flex">
                                <div class="wrapper">
                                    <h3 class="mb-0 font-weight-semibold">{{ $ctrl.stats.commands.today }}</h3>
                                    <h5 class="mb-0 font-weight-medium text-primary">{{ 'page.dashboard.sentCommands' | translate }}</h5>
                                    <p class="mb-0 text-muted">{{ $ctrl.stats.commands.plus }} ({{ $ctrl.stats.commands.percent }}%)</p>
                                </div>
                                <div class="wrapper my-auto ml-auto ml-lg-4">
                                    <canvas height="50" width="100" id="stats-line-graph-2"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mt-md-0 mt-4">
                            <div class="d-flex">
                                <div class="wrapper">
                                    <h3 class="mb-0 font-weight-semibold">{{ $ctrl.stats.deleted.today }}</h3>
                                    <h5 class="mb-0 font-weight-medium text-danger">{{ 'page.dashboard.deletedMessages' | translate }}</h5>
                                    <p class="mb-0 text-muted">{{ $ctrl.stats.deleted.plus }} ({{ $ctrl.stats.deleted.percent }}%)</p>
                                </div>
                                <div class="wrapper my-auto ml-auto ml-lg-4">
                                    <canvas height="50" width="100" id="stats-line-graph-3"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mt-md-0 mt-4">
                            <div class="d-flex">
                                <div class="wrapper">
                                    <h3 class="mb-0 font-weight-semibold">{{ $ctrl.stats.timeouts.today }}</h3>
                                    <h5 class="mb-0 font-weight-medium text-danger">{{ 'page.dashboard.timeoutedUsers' | translate }}</h5>
                                    <p class="mb-0 text-muted">{{ $ctrl.stats.timeouts.plus }} ({{ $ctrl.stats.timeouts.percent }}%)</p>
                                </div>
                                <div class="wrapper my-auto ml-auto ml-lg-4">
                                    <canvas height="50" width="100" id="stats-line-graph-4"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 grid-margin">
            <div class="row">
                <div class="col-md-6 grid-margin stretch-card average-price-card">
                    <div class="card text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between pb-2 align-items-center">
                                <h2 class="font-weight-semibold mb-0">{{ $ctrl.topChatter }} &nbsp;<small ng-if="$ctrl.topChatter !== '-'">({{ $ctrl.topChatterMessageCount }} {{ 'page.dashboard.messages' | translate }})</small></h2>
                                <div class="icon-holder">
                                    <i class="mdi mdi-account-edit"></i>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h5 class="font-weight-semibold mb-0">Top Chatter</h5>
                                <p class="text-white mb-0">{{ 'page.dashboard.last7days' | translate }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 grid-margin stretch-card average-price-card">
                    <div class="card text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between pb-2 align-items-center">
                                <h2 class="font-weight-semibold mb-0">{{ $ctrl.topCommand }} &nbsp;<small ng-if="$ctrl.topCommand !== '-'">({{ $ctrl.topCommandCallCount }} {{ 'page.dashboard.calls' | translate }})</small></h2>
                                <div class="icon-holder">
                                    <i class="mdi mdi-account-alert"></i>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h5 class="font-weight-semibold mb-0">Top Command</h5>
                                <p class="text-white mb-0">{{ 'page.dashboard.last7days' | translate }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 grid-margin">
            <div class="row">
                <div class="col-md-4">
                    <h4>{{ 'page.dashboard.latestEvents' | translate }}</h4>
                    <div ng-repeat="(idx, event) in $ctrl.events track by event.id" style="display: block; width:100%;">
                        <div style="background-color: white; padding: 10px 20px; border-top:1px solid rgba(0, 0, 0, 0.2); position:relative;">
                            <span style="font-size:14px;"><b>{{ event.by }}</b></span><br>
                            <span style="font-size:12px;">{{ event.action }}</span>
                            <span style="position: absolute; top:5px; right:5px; font-size:12px; color:rgba(0,0,0,0.4);">{{ event.ts }}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4>{{ 'page.dashboard.latestModActions' | translate }}</h4>
                    <div ng-repeat="(idx, event) in $ctrl.modActions track by event.id" style="display: block; width:100%;">
                        <div style="background-color: white; padding: 10px 20px; border-top:1px solid rgba(0, 0, 0, 0.2); position:relative;">
                            <span style="font-size:14px;"><b>{{ event.by }}</b></span><br>
                            <span style="font-size:12px;">{{ event.action }}</span>
                            <span style="position: absolute; top:5px; right:5px; font-size:12px; color:rgba(0,0,0,0.4);">{{ event.ts }}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4>{{ 'page.dashboard.latestFollowers' | translate }}</h4>
                    <div ng-repeat="(idx, event) in $ctrl.follows" style="display: block; width:100%;">
                        <div style="background-color: white; padding: 10px 20px; border-top:1px solid rgba(0, 0, 0, 0.2); position:relative;">
                            <span style="font-size:14px;"><b>{{ event.by }}</b></span><br>
                            <span style="position: absolute; top:5px; right:5px; font-size:12px; color:rgba(0,0,0,0.4);">{{ event.ts }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>